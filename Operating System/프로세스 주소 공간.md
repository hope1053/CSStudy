## **프로세스의 주소 공간**

> 프로그램이 CPU에 의해 실행됨 → 프로세스가 생성되고 메모리에 `프로세스 주소 공간`이 할당됨
>  

![Untitled (90)](https://user-images.githubusercontent.com/71035113/156918889-6d154402-b961-42a6-bb8d-d6ee2bb1db5e.png)

프로세스 주소 공간에는 `코드`, `데이터`, `BSS`, `스택`, `HEAP`으로 이루어져 있다.

- **코드 (Text)**
    - 프로그램 소스 코드 저장하는 부분으로 우리가 작성한 소스코드가 들어감
    - 텍스트 영역이라고도 부름
- **데이터**
    - 프로그램의 초기값이 있는 전역 변수, 정적 변수가 저장됨
    - 전역변수와 static 값을 참조한 코드는 컴파일하고 나면, Data 영역 주소값을 가르키도록 바뀜
- **BSS(Block Stated Symbol)**
    - 초기값 없는 전역변수, 배열, 정적 변수가 저장됨
    - 초기화된 데이터 → Data , 초기화되지 않은 데이터는 BSS
- **스택**
    - 함수 호출과 관계되는 지역변수와 매개변수 저장됨
    - Stack은 함수 호출과 함께 할당하며, 함수 호출이 완료되면 소멸됨
    - 메모리 높은 주소에서 낮은 주소 방향으로 할당됨
        - 프로그램이 실행되며 메모리를 얼마나 사용할지 미리 계산할 수 없음. 그래서 stack 함수의 뒷부분에서부터 변수 주소가 매겨짐
- **Heap**
    - 런타임에 크기가 결정되는 메모리 영역
    - 사용자에 의해 메모리 공간이 동적으로 할당되고 해제됨
    - 메모리 낮은 주소에서 높은 주소 방향으로 할당됨
    

***왜 이렇게 구역을 나눈건가요?***

최대한 데이터를 공유하여 메모리 사용량을 줄이기 위함

Code는 같은 프로그램 자체에서는 모두 같은 내용이기 때문에 따로 관리하여 공유함

Stack과 데이터를 나눈 이유는, 스택 구조의 특성과 전역 변수의 활용성을 위한 것!

- 프로그램의 함수와 지역 변수는 LIFO 특성을 가진 스택에서 실행됨
- 따라서 이 함수들 안에서 공통으로 사용되는 전역 함수는 따로 지정해주면 메모리를 아낄 수 있음

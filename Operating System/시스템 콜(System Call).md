# 시스템 콜(System Call)

# 시스템 콜이란?

- 운영체제는 커널모드, 사용자모드로 나뉘어서 구동됨
- 파일을 읽거나 쓰거나 화면에 메세지를 출력할 때 커널모드가 사용됨
- 시스템 콜은 이러한 커널 영역의 기능을 사용자 모드가 사용 가능하게, 프로세스가 하드웨어에 직접 접근해서 필요한 기능을 사용할 수 있게 해줌

# 구성

- 여러 종류의 기능으로 나뉘어져있음
- 각 시스템 콜에는 번호가 할당되고 시스템 콜 인터페이스는 이러한 번호에 따라 인덱스되는 테이블을 유지한다

- 필요한 기능이나 시스템 환경에 따라 시스템 콜이 발생할 때 좀 더 많은 정보가 필요할 수 있음
- 그러한 정보가 담긴 매개변수를 운영체제에 전달하기 위해서는 대략 3가지 정도의 방법이 있음
1. 매개변수를 CPU 레지스터 내에 전달한다. 이 경우에 매개변수의 갯수가 CPU 내의 총 레지스터 개수보다 많을 수 있다.
2. 위와 같은 경우에 매개변수를 메모리에 저장하고 **메모리의 주소가 레지스터에 전달**된다.
3. 매개변수는 프로그램에 의해 **스택(stack)으로 전달(push)** 될 수도 있다.

→ 두세번째 방법의 경우 전달되는 매개변수의 개수나 길이에 제한이 없기 때문에 몇몇 운영체제에서 선호하는 방식

# 시스템콜의 유형

- 프로세스 제어, 파일 조작, 장치 조작, 정보 유지보수, 통신과 보호 다섯가지의 중요한 범주로 나눌 수 있음
- **프로세스 제어(Process Control)**
    - 끝내기(end), 중지(abort)
    - 적재(load), 실행(execute)
    - 프로세스 생성(create process)
    - 프로세스 속성 획득과 설정(get process attribute and set process attribute)
    - 시간 대기(wait time)
    - 사건 대기(wait event)
    - 사건을 알림(signal event)
    - 메모리 할당 및 해제 : malloc, free
- **파일 조작(File Manipulation)**
    - 파일 생성(create file), 파일 삭제(delete file)
    - 열기(open), 닫기(close)
    - 읽기(read), 쓰기(write), 위치 변경(reposition)
    - 파일 속성 획득 및 설정(get file attribute and set file attribute)
- **장치 관리(Devide Management)**
    - 장치를 요구(request devices), 장치를 방출release device)
    - 읽기, 쓰기, 위치 변경
    - 장치 속성 획득, 장치 속성 설정
    - 장치의 논리적 부착(attach) 또는 분리(detach)
- **정보 유지(Information Maintenance)**
    - 시간과 날짜의 설정과 획득(time)
    - 시스템 데이터의 설정과 획득(date)
    - 프로세스 파일, 장치 속성의 획득 및 설정
- **통신(Communication)**
    - 통신 연결의 생성, 제거
    - 메시지의 송신, 수신
    - 상태 정보 전달
    - 원격 장치의 부착 및 분리

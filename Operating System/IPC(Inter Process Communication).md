# IPC(Inter Process Communication)

# IPC

Inter Process Communication
프로세스 간의 통신 방법

![Untitled](https://user-images.githubusercontent.com/22907483/155550227-f40b181d-b9e5-4510-94f7-787c3b67a201.png)

- Process들은 서로 독립돼있음
- 각자 수행할 수도 있지만 프로그램들 사이에 정보를 교환함으로써 계산 속도를 증가시키거나 편의성을 향상시킬 수 있음
- 자신의 독립적인 메모리 공간을 가지고 다른 프로세스들에 의해 침범당하지 않도록 보호하고 있기 때문에 별도의 설비가 없이는 서로간의 통신이 어려움
- 커널 영역에서는 IPC라는 내부 프로세스간의 통신을 제공, 프로세스는 커널이 제공하는 IPC 설비를 이용해서 프로세스간 통신을 할 수 있게 됨
    - 커널(Kernel)?
    - 운영체제도 소프트웨어이기 때문에 메모리에 올라가야 사용할 수 있음
    - 하지만 메모리 공간의 제약 상, 운영체제 중에서도 반드시 필요한 부분은 늘 메모리에 올려두고 그렇지 않은 부분은 필요할 때 메모리에 올려서 사용함
    - 이때 메모리에 상주하는 운영체제의 부분 = 커널 = 운영체제의 핵심적인 부분

# IPC의 종류

![Untitled 1](https://user-images.githubusercontent.com/22907483/155550262-849a426e-dc6c-4bbb-a69f-590af9cb24ae.png)

## 1. 메세지 전달(Message Passing)

- 커널 메모리 영역에 메시지 전달을 위한 채널을 만들어서 협력하는 프로세스들 사이에 메세지 형태로 정보를 send/receive하는 방법
- 메세지 큐(Message Queue)를 사용하여 송신 프로세스는 enqueue, 수신 프로세스는 dequeue하며 상호간 통신함
- 메세지 큐는 커널에서 관리됨
- 따로 동기화해줄 필요가 없음

### 1-1. 메세지 전달 모델의 종류

- Direct Communication: 통신하려는 프로세스의 이름을 명시적으로 표시하여 메시지를 직접 전달하는 방식
    - A 프로세스가 B 프로세스에게 메시지를 전달하고 싶을 때, 커널에게 직접적으로 수신자 A 프로세스가 메시지를 전달한 후 커널이 B 프로세스에게 해당 메시지를 전달하는 방식이다.
- Indirect Communication: Mailbox(port)를 통해 간접 전달하는 방식
    - A 프로세스가 B 프로세스에게 메시지를 전달하고 싶을 때, 커널 내부 특정 포트에 메시지를 저장해 놓고, B 프로세스가 해당 포트에 접근하여 메시지를 전달하는 방식이다.

### 1-2. 메세지 전달 모델의 예시

- 파이프
- 메세지 큐
- 소켓(TCP/IP)

## 2. 메모리 공유(Shared Memory)

- 프로세스끼리 특정 공통의 메모리 영역을 공유하며 상호간 통신하는 방법
- 데이터 자체를 공유하도록 지원, 한 프로세스에서 변경한 메모리 공간의 내용을 다른 프로세스에서 접근할 수 있음 → 동기화필요
- 공유 메모리는 커널에서 관리, 통신 자체는 커널의 관여없이 진행
- 메모리를 직접 접근하기 때문에 속도가 빠르고 사용이 편리함

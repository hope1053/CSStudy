# 대칭키 & 공개키

# 공개키

- 누구든지 키를 확인할 수 있고 사용할 수 있도록 대중에게 공개된 키

# 개인키

- 자기자신만이 관리하고 가지고 있는 키

# 대칭키

- 어떤 정보를 암호화/복호화 할 때 사용하는 키가 동일(대칭)한 경우(개인키)
- 따라서 암호화 된 정보를 전달하고 확인하기 위해서는 송, 수신자 둘 다 똑같은 키를 가지고 있어야함
- 키를 안전하게 교환하는 것이 대칭키 암호화 방식의 가장 중요한 부분
- 비교적 계산속도가 빠르다는 장점이 있음

> 쉽게 예를 들자면, 부산에 살고있는 철수는 A라는 열쇠로만 열 수 있는 보물상자를 서울에 있는 영희에게 안전하게 전달 하고자 합니다.
> 
> 
> 그렇다면 철수는 보물상자를 영희에게 보내는 것은 물론이고, 이 상자를 열 수 있는 A열쇠 또한 안전하게 영희에게 전달해야합니다.
> 
> 만약 보물상자와 함께 열쇠를 담아 보낸다면, 중간에 다른사람이 가로채 상자를 열어볼 수 있게됩니다.
> 
> 따라서 이 열쇠는 보물상자와는 다른 경로로 안전하게 영희에게 전달되어야합니다.
> 

→ 키가 없다면 누구도 열어볼 수 없어서 안전함 하지만 이 키를 안전하게 전달하는 것이 매우 중요!

# 비대칭키

- 어떠한 정보를 암호화/복호화 할 때 사용하는 키가 서로 다른 경우
- 개인키, 공개키 두 가지가 사용됨
- 개인키로 암호화 하는 방식 / 공개키로 암호화 하는 방식 이렇게 두 가지로 나뉨
1. 개인키로 암호화 하는 방식
    - 자기자신만의 개인키를 통해 정보를 암호화하여 전송
    - 정보를 생산(송신)한 사람의 신원에 대한 정보가 필요할 때 사용
    
    > 이또한 쉽게 예를 들어보자면, 부산에 살고있는 철수는 자신만의 개인키를 통해 보물상자를 암호화하여 영희에게 보냅니다.
    > 
    > 
    > 이 보물상자는 철수의 개인키를 통해 암호화 되었기 때문에, 철수의 공개키가 있어야만이 열어볼 수 있습니다.
    > 
    > 하지만 철수의 공개키는 누구나 알 수 있도록 공개가 되어있습니다.
    > 
    > 따라서 영희는 보물상자를 받아 본 후 공개되어있는 철수의 공개키를 통해 보물상자를 열어볼 수 있습니다.
    > 
    > 여기서 잠깐, 이러한 의문이 드실 수 있습니다.
    > 
    > Q. 그렇다면 다른사람들이 이 보물상자를 중간에서 가로챈다면 공개된 철수의 공개키를 통해 보물상자를 열어볼 수 있지 않나요?
    > 
    > A. 네 맞습니다. 누구나 열어볼 수 있습니다.
    > 
    > Q. 그렇다면 보안에 취약한게 아닌가요? 이런 방법을 왜쓰는건가요?
    > 
    > A. 이러한 방법은 '보물상자안에 뭐가 들었냐'보다는 '이 보물상자를 누가 보냈냐'에 초점을 둔 방법입니다.
    > 
    > 즉 철수의 개인키로 암호화 한 보물상자는 철수의 공개키를 통해서만 열어볼 수 있기 때문에, 만약 어떤 보물상자가 철수의 공개키로 열린다면, 이 보물상자는 철수가 보낸게 확실하다는 뜻입니다.
    > 
    - 데이터 제공자의 신원이 보장되는 전자서명 등의 공인인증체계의 기본으로 사용됨
2. 공개키로 암호화 하는 방식
    - 공개키는 누구나 알 수 있도록 공개돼있기 때문에 해당 사용자의 공개키를 통해 정보를 암호화하여 전송함
    - 정보 자체에 대한 암호화가 필요할 때 사용
    
    > 쉽게 예를 들자면, 부산에 살고있는 철수는 누구나 알 수 있는 영희의 공개키를 통해 보물상자를 암호화 한 후 영희에게 보냅니다.
    > 
    > 
    > 이 보물상자는 영희의 공개키로 암호화 되었기때문에 열어보기 위해서는 영희의 개인키가 필요합니다.
    > 
    > (공개키로 암호화 되었다면 개인키로 해제할 수 있습니다. 공개키로 해제는 불가능합니다.)
    > 
    > 하지만 영희의 개인키는 영희 자기자신만 가지고 있기 때문에, 받아 본 보물상자를 안전하게 열어볼 수 있습니다.
    > 

→ 대칭키 & 비대칭키 암호화 방식을 적절히 혼합하면 SSL 탄생의 시초

> 1. A가 B의 공개키로 암호화 통신에 사용할 대칭키를 암호화하고 B에게 보냄
2. B는 암호문을 받고, 자신의 비밀키로 복호화함
3. B는 A로부터 얻은 대칭키로 A에게 보낼 평문을 암호화하여 A에게 보냄
4. A는 자신의 대칭키로 암호문을 복호화함
5. 앞으로 이 대칭키로 암호화를 통신함
> 

= 대칭키를 주고받을 때만 공개키 암호화 방식을 사용하고 이후에는 대칭키 암호화 방식으로 통신하는 것